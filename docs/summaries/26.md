# Quick recap

Команда обговорила впровадження кеш-системи для активації користувачів, інтеграцію Redis як кеш-рішення в додаток Python, а також створення демон-процесу для обробки замовлень в додатку Django. Вони також досліджували компоненти своєї системи, включаючи домен «Замовлення», процес створення та фільтрації об'єктів, а також важливість масштабованості та прозорості. Нарешті, вони продемонстрували, як отримати доступ до пов'язаних даних в моделях Django з використанням зворотних зв'язків, і обговорили реалізацію основної бізнес-функції з використанням процесорного класу.

## Next steps

• Дмитро запровадить функцію "відновити активаційний ключ" для користувачів, яким потрібно повторно активувати свої акаунти.
• Команда для перегляду та оптимізації логіки обробки замовлень у класі Processor.
• Команда для реалізації функції оновлення статусу приготування їжі для ресторанів.
• Команда для створення підсистеми, яка відстежує виконані замовлення з ресторанів і оновлює їх статус в основній системі.
• Команда для переходу від поточного працівника на основі потоку до рішення сторонніх працівників у наступному уроці.
• Команда для дослідження і усунення помилки, що виникла при запуску програми з Gunicorn.
• Команда для реалізації правильної обробки помилок для виключення Django DoesNotExist при використанні get() запитів.
• Команда для оптимізації запитів до баз даних за допомогою методів select_related() та prefetch_related() у відповідних випадках.
• Команда для реалізації масових операцій створення та масового оновлення для підвищення продуктивності при роботі з декількома об’єктами.
• Команда для перегляду та потенційного рефакторингу поточної реалізації кешу для кращої інтеграції з системою обробки замовлень.

# Summary

## Реалізація кешу для активації користувача

Команда обговорює реалізацію кеш-системи для активації користувачів. Вони вирішують створити кеш як словник (Dict) для зберігання активаційних ключів та ідентифікаторів користувача, що дозволяє швидше шукати в порівнянні з пошуком по базі даних. Дмитро пояснює переваги такого підходу, зокрема зменшення завантаження бази даних та підвищення продуктивності. Він також надає огляд різних архітектурних підходів, включаючи дизайн домену та використання спільних папок у проектах Django. Команда планує реалізувати кеш, а потім працювати над бізнес-функціями, пов'язаними із замовленням.

## Інтеграція Redis в Python-додаток

У резюме розглядається інтеграція Redis як рішення кешування в додатку Python. Дмитро пояснює, як налаштувати Redis за допомогою Docker, створити клас обслуговування кешу та реалізувати основні операції кешу, такі як set and get. Він демонструє, як використовувати кеш у процесі активації, включаючи встановлення часу закінчення кешованих елементів. У резюме також йдеться про ширшу інфраструктуру програми, включаючи базу даних, службу розсилки та довідкового працівника, підкреслюючи роль серверного розробника в управлінні цими компонентами.

## Реалізація системи обробки замовлень

Дискусія фокусується на впровадженні системи обробки замовлень на харчові продукти. Дмитро пояснює, як змінити модель бази даних, щоб включити поле ЕТА для часу доставки замовлення, а також демонструє, як створити складний SQL запит, що об’єднує кілька таблиць, для отримання інформації про замовлення. Потім він окреслює створення довідкової служби або працівника, який буде постійно перевіряти наявність нових замовлень, обробляти їх на основі їх статусу, і ініціювати такі дії, як зв'язок з ресторанами або службами доставки. Дмитро наголошує на важливості ретельного проектування та міграції баз даних, щоб уникнути ускладнень у майбутньому розвитку.

## Обробка замовлень Джанго та Гюнікорн

Дмитро розповідає про створення демонічного процесу обробки замовлень у додатку Django. Він пояснює, як структурувати клас процесора за допомогою методу запуску, який працює у фоновому потоці. Процесор ініціалізується в основному файлі програми перед запуском сервера. Дмитро потім демонструє, як використовувати Gunicorn як більш ефективний веб-сервер для запуску програми Django, показує, як його встановлювати та запускати з різними варіантами конфігурації. Він також пояснює, як правильно ініціалізувати та запустити процесор замовлення при використанні Gunicorn замість вбудованого сервера Django.

## Дискусія про системні компоненти Дмитра

Дмитро обговорив компоненти своєї системи, а саме домен Orders під Urail. Він висвітлив процес створення гетто-замовлень і пояснив роль Джанго Руди в цьому процесі. Дмитро також розповів про функціонал компанії «Оремка», зокрема про методи клієнта, функції комплексної агрегації та арифметичні операції. Він наголосив на важливості використання цих функцій на рівні Python для ефективності. Дмитро також пояснив використання операції "Abdeit", яка дозволяє вносити зміни в систему змістовно.

## Методи та конвенції оптимізації системи

Дмитро пояснив процес створення та фільтрації об’єктів у системі. Він описав, як вказати конкретні поля для завантаження, виключаючи надлишкові дані, і як використовувати кілька фільтрів для створення складних запитів. Дмитро також обговорив важливість таких методів оптимізації, як масові запити та масові вставки, а також баланс між не перевантаженням системи та не надто довгими операціями. Він акцентував увагу на використанні параметрів запитів і важливості розуміння конвенцій і правил системи.

## Оновлення стану системи та масштабованість

Дмитро обговорив процес оновлення та зміни статусів системи у своїй системі. Він пояснив, як вони використовують фільтрацію та виключення для управління замовленнями та як вони обробляють різні статуси, такі як "доставлено" та "не затримано". Він також обговорив важливість масштабованості та прозорості в їхній системі. Крім того, він торкнувся питання термінів і того, як вони обробляють замовлення, які пройшли термін їх виконання. Він наголосив на необхідності аналітики та важливості розділення статусів для забезпечення точності. Він також згадав про можливість додавання нової логіки обробки та необхідність зміни стану системи.

## Основні функції бізнесу в Джанго

Дмитро демонструє, як отримати доступ до пов’язаних даних у моделях Django за допомогою зворотних зв’язків та пояснює концепцію зв’язаних таблиць. Він показує, як створити набір ресторанів з пунктів замовлення і обговорює реалізацію основної бізнес-функції за допомогою процесорного класу. Заняття завершується налаштуванням основного циклу для постійної перевірки стану замовлення, закладанням основи для майбутньої реалізації працівників для обробки замовлень.
